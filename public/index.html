<!doctype html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>Youtube aggregation</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Custom Font awesome -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.1/angular-sanitize.min.js"></script>

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <!-- angular-->
    <script src="aggregation.controller.js"></script>


    <style>
        #icon{
            color:red;

        }

        #load{
            color:white;
        }

        .table>tbody>tr>td{
            border-top:none;
        }


        .user{
            font-size:16px;


        }

        #tit{
            font-weight: bold;
            font-size: 18px;
        }

        .custom {
            width: 5%;
            padding-right: 10px;
            padding-top: 5px;
            margin-left: 5px;
            align-content: center;


        }

        .functions,.content{
            margin-top: 50px;
        }





        .meta-content{
            font-size:18px;
            cursor:pointer;
            color: #3c8dbc;
            text-decoration: underline;
        }

        .description{
            color: #337ab7;
            font-weight: bold;
        }
    </style>




</head>
<body ng-app="aggregation" ng-controller="aggregationController" data-ng-init="init()">
<!-- top-level functions-->
<div class="container-fluid">
    <div class="row functions">
        <!--add link-->
        <div class=" col-xs-offset-10 col-md-11 ">
            <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#Addlink"> Add a link</button>
        </div>
    </div>


    <!-- Add link model-->
    <div id="Addlink"role="dialog" aria-labelledby="addlinktitle" tabindex="-1" class="modal fade">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="addlinktitle">Add new link</h4>

                </div>

                <div class="modal-body">
                    <form ng-submit="scrapelink()">
                        <div id="url-group" class="form-group">
                            <label for="url">Paste url</label>
                            <input type="url" name="url" id="url" class="form-control" placeholder="url" ng-model="formData.url">
                            <span class="help-block"></span>
                        </div>

                        <button type="submit" class="btn btn-primary" ng-show="scraped">
                           <span data-ng-show="loading"><i class="fa fa-spinner fa-spin"></i>&nbsp;&nbsp;Scraping..</span>
                            <span data-ng-hide="loading">Scrape</span>
                        </button>
                        <div ng-hide="scraped">

                            <div id="title-group" class="form-group">
                                <label for="url">Title</label>
                                <textarea rows="3" name="title" id="title" class="form-control" placeholder="title" ng-model="formData.title"></textarea>
                                <span class="help-block"></span>
                            </div>
                            <div id="description-group" class="form-group">
                                <label for="url">Title</label>
                                <textarea rows="3" name="description" id="description" class="form-control" placeholder="description" ng-model="formData.description"></textarea>
                                <span class="help-block"></span>
                            </div>

                            <button type="button" class="btn btn-primary" ng-disabled="added" ng-click="addlink()" >Add

                            </button>

                        </div>

                    </form>

                </div>

            </div>

        </div>

    </div>
    <!-- end of modal-->
</div>
<div class="container-fluid" ng-show="posts.length==0">

    <div class="row">
        <div class="col-md-4 col-md-offset-4">
        <h4>No posts found for this content<br>Press Add link on the top to add posts</h4>
        </div>
    </div>

</div>

<div class="container fluid" ng-show="posts.length>0">
    <div class="row">
        <div class="col-xs-11" id="LinksList">
           <ul ng-repeat="post in posts">
               <li>
                   <div class="panel panel-default">
                       <div class="panel-heading">
                           <div class="row">
                               <div class="col-md-1 custom hidden-md hidden-sm hidden-xs">
                                   <span class="align-center"><i class="fa fa-youtube-square fa-3x" id="icon">&nbsp;</i> </span>
                               </div>
                               <div class="col-md-10">
                                   <span id="tit">{{post.title}}</span>

                                   <span><p class="user">Added by abc before 10 mins</p></span>
                               </div>
                           </div>
                       </div>

                       <div class="panel-body">

                           <div class="row">
                               <div class="col-lg-7">
                                   <iframe width=100% height="300" type="text/html" ng-src="{{trustsrc(post.content)}}" frameborder="0" allowfullscreen>

                                   </iframe>

                               </div>
                               <div class="col-md-5 hidden-md hidden-sm hidden-xs">
                                   <h4 class="description">Description</h4>
                                   {{post.description}}
                               </div>
                           </div>
                       </div>

                       <div class="panel-footer">


                           <span class="commentToggle meta-content" id="{{'c'+post.postId}}" onclick="alert(this.id)">comments</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="meta-content" id="{{'tags-'+post.postId+'d'}}" onclick="tagsclick(this.id)">2 tags</span>
                           <div id="{{'c'+post.postId+'d'}}" class="comments">
                               <ul class="list-group">
                                   <li class="list-group item">
                                       <div class="input-group">
                                           <input type="text" class="form-control" placeholder="Add a comment...">
                                                        <span class="input-group-btn">
                                                             <button type="button" class="btn btn-default">Comment</button>
                                                        </span>
                                       </div>
                                   </li>
                                   <li class="list-group-item">Cras justo odio</li>
                                   <li class="list-group-item">Dapibus ac facilisis in</li>
                               </ul>
                           </div>
                           <div id="{{'t'+post.postId+'d'}}" class="tags">
                               <span class=" label label-default">Mundasupatti</span>
                               <span class=" label label-default">Comedy</span>
                           </div>
                       </div>
                       </div>

               </li>

           </ul>
        </div>
    </div>

<script>

    $('.comments').hide();
    $('.tags').hide();
    function commentsclick(clicked){

        var _id="#"+clicked+" .comments";
        console.log(_id);
        $(_id).slideToggle();
    }
    function tagsclick(id){
        console.log(id);
        //$(id).slideToggle();
    }

</script>


</div>
</body>
</html>




